function demo;
interface of demo {
	out bool B;
}

policy B5 of demo {
	internals {
		constant uint8_t B5_ticks := 5;
		dtimer_t v := 0;
	}

	states {
		ls {
			//enforce a B every B5_ticks, then violation
			enforce B := 1 if v >= B5_ticks;

			//if we receive a B, reset the timer
			-> ls on B: v := 0;

			//if we don't receive a B, just continue
			-> ls on !B && v < B5_ticks; 			
		}
	}
}